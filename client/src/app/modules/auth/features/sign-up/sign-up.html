@if(error_message==="One or more validation errors occured")
{
<ngb-toast *ngIf="showToast" [autohide]="true" aria-live="polite" [animation]="true" [delay]="2500"
  class="bg-danger text-light position-fixed top-0 end-0 m-3" (hidden)="showToast=false">
  {{error_message}}</ngb-toast>
}
@else if(error_message==="Please fill all details"){
<ngb-toast *ngIf="showToast" [autohide]="true" aria-live="polite" [animation]="true" [delay]="2500"
  class="bg-danger text-light position-fixed top-0 end-0 m-3" (hidden)="showToast=false">
  {{error_message}}</ngb-toast>
}
<ngb-toast *ngIf="showToast1" [autohide]="true" aria-live="polite" [animation]="true" [delay]="2500"
  class="bg-warning text-light position-fixed top-0 end-0 m-3" (hidden)="showToast1=false">Please accept the terms and
  conditions</ngb-toast>
<div class="d-flex flex-column  bg-custom justify-content-center align-items-center" style="height:calc(100vh - 0px);">
  <div class="card shadow" style="width: 38rem;height: 46rem;">

    <div class="card-body">
      <div class=" d-flex m-4 flex-column ">
        <h2 class="fs-1">Create an Account</h2>
        <p class="text-muted fs-6">Please fill in this form to create an account!</p>
        <hr class="mt-md-0">
      </div>
      <div class="d-flex  flex-column   gap-xl-1">
        <form class="form was-validated" [formGroup]="registerForm" (ngSubmit)="signup()">
          <div class="d-flex gap-4 flex-column justify-content-center align-items-center">
            <div class="d-flex gap-4">
              <div class="input-group ">
                <span class="input-group-text">
                  <fa-icon [icon]="faUser"></fa-icon>
                </span>
                <app-input-field [required]="true" name="firstName" id="firstName" formControlName="firstName"
                  type="text" class="form-control btn-x border-start-0 h-100 "
                  placeholder="First Name"></app-input-field>
              </div>
              <div class="input-group">
                <span class="input-group-text " style="background-color: white;">
                  <fa-icon [icon]="faUser"></fa-icon>
                </span>
                <app-input-field [required]="true" name="lastName" id="lastName" formControlName="lastName" type="text"
                  class="form-control btn-x p-2 border-start-0" placeholder="Last Name" />
              </div>
            </div>
            <div class="form-group">
              <div class="d-flex flex-column justify-content-center align-items-center">
                <div class="input-group " style="width: 29em;">
                  <span class="input-group-text" style="background-color: white;">
                    <fa-icon [icon]="faEnvelope"></fa-icon>
                  </span>
                  <app-input-field [required]="true" name="email" id="email" formControlName="email" type="text"
                    class="form-control p-2 btn-x border-start-0" placeholder="Email" />
                </div>
                <span class="text-danger position-relative bottom-3 gap-0"
                  *ngIf="registerFormEmail?.touched && registerFormEmail?.errors">
                  Email is required
                </span>
              </div>
            </div>
            <div class="form-group">
              <div class="d-flex flex-column justify-content-center align-items-center">
                <div class="input-group " style="width: 29em;">
                  <span class="input-group-text" style="background-color: white;">
                    <fa-icon [icon]="faKey"></fa-icon>
                  </span>
                  <app-input-field [required]="true" name="password" id="password" formControlName="password"
                    type="password" class="form-control p-2 btn-x border-start-0" placeholder="Password" />
                </div>
                <span class="text-danger position-relative bottom-3 gap-0 text-center"
                  *ngIf="registerFormPassword?.touched && registerFormPassword?.errors">
                  Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase
                  letter and 1 number
                </span>
              </div>
            </div>
            <div class="form-group">
              <div class="d-flex flex-column justify-content-center align-items-center">
                <div class="input-group " style="width: 29em;">
                  <span class="input-group-text" style="background-color: white;">
                    <fa-icon [icon]="faKey"></fa-icon>
                  </span>
                  <app-input-field [required]="true" name="cPassword" id="cPassword" formControlName="confirmPassword"
                    type="password" class="form-control p-2 btn-x border-start-0" placeholder="Confirm Password"
                    aria-label="Password" />
                </div>
                <span class="text-danger"
                  *ngIf="( registerFormConfirmPassword?.touched || submitted)&&  registerFormConfirmPassword?.errors">
                  Confirm Password is required
                </span>
              </div>
              <p class="position-fixed text-danger top-10 text-center"
                *ngIf="registerForm.errors?.['mismatch'] && registerForm.touched"> Passwords do not match</p>
            </div>
            <div class="form-check mt-4 d-flex gap-2 justify-content-start align-items-start">
              <input class="form-check-input" type="checkbox" (click)="handleChange()" id="flexCheckDefault">
              <label class="form-check-label" for="flexCheckDefault">
                I accept the terms and conditions
              </label>
            </div>
            <app-button  [backgroundColor]="'#003580'" [width]="'8rem'" [height]="'4rem'" id="signup"
              type="submit">Signup</app-button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="text-white mt-3">
    Already have an account ?
    <a routerLink="/auth/login" class=" text-white">Login here</a>
  </div>
</div>